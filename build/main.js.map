{
  "version": 3,
  "sources": ["../src/main.ts"],
  "sourcesContent": ["'use strict';\n/*\n * Created with @iobroker/create-adapter v1.14.0\n */\n\n// The adapter-core module gives you access to the core ioBroker functions\n// you need to create an adapter\nimport * as utils from '@iobroker/adapter-core';\n\n// Load your modules here, e.g.:\nimport * as net from 'net';\n\n//let gthis: Solarviewdatareader;\nconst sv_cmd : string = '00*';\nlet conn: net.Socket;\nlet jobSchedule: NodeJS.Timeout;\n\n\n//Timeout\nlet tout: NodeJS.Timeout;\n//let to1, to2, to3, to4, to5, to6, to7, to8, to9, to10, to11;\n\ninterface ChecksumResult {\n    result: boolean;\n    chksum: number;\n    ind: number;\n    data: Buffer;\n}\n\nclass Solarviewdatareader extends utils.Adapter {\n\n    public constructor(options: Partial<utils.AdapterOptions> = {}) {\n        super({\n            ...options,\n            name: 'solarviewdatareader',\n        });\n        this.on('ready', this.onReady.bind(this));\n        this.on('unload', this.onUnload.bind(this));\n        //gthis = this;\n    }\n\n    // Nullen voranstellen - add Leading Zero\n    aLZ(n: number): string {\n        return n <= 9 ? '0' + n : n.toString();\n    }\n\n    calcChecksum(inputString:string): ChecksumResult {\n        const buffer = Buffer.from(inputString);\n        let sum = 0;\n        let index = 0;\n    \n        for (let i = 0; i < buffer.length; i++) {\n            sum = (sum + buffer[i]) % 128;\n            if (buffer[i] === 125) {\n                index = i + 2;\n                break;\n            }\n        }\n    \n        const result: ChecksumResult = {\n            'result': buffer[index] === sum,\n            'chksum': sum,\n            'ind': index,\n            'data': buffer\n        };\n    \n        return result;\n    }\n\n    //async createObject(that: Solarviewdatareader, id: string, typeVal: ioBroker.CommonType, name: string, commonType: string, role: string, def: any, rd: boolean, wr: boolean, desc: string, unit: string) {\n    async createObject(id: string, obj: ioBroker.SettableObject) {\n        await this.setObjectNotExistsAsync(id, obj);\n    \n        const currentState = await this.getStateAsync(id);\n        const stCommon: ioBroker.StateCommon = obj.common as ioBroker.StateCommon; // Type Assertion\n        if (currentState === null && stCommon.def !== undefined) {\n            this.setState(id, stCommon.def, true); // set default\n        }\n    }\n\n    async createGlobalObjects() {\n        const options: [string, ioBroker.SettableObject][] =[\n            ['info.connection', {type: 'state', common: {name: 'connection', type: 'boolean', role: 'indicator.connected', def: false, read: true, write: false, desc: 'Solarview connection state', unit: ''}, native: {}}],\n            ['info.lastUpdate', {type: 'state', common: {name: 'lastUpdate', type: 'string', role: 'date', def: (new Date('1900-01-01T00:00:00')).toString(), read: true, write: false, desc: 'Last connection date/time', unit: ''}, native: {}}],\n            //['info.connection', 'state', 'connection', 'boolean', 'indicator.connected', false, true, false, 'Solarview connection state', ''],\n            //['info.lastUpdate', 'state', 'lastUpdate', 'string', 'date', (new Date('1900-01-01T00:00:00')).toString(), true, false, 'Last connection date/time', ''],\n        ];\n        /*const options: [string, string, string, string, string, any, boolean, boolean, string, string][] = [\n            ['info.connection', 'state', 'connection', 'boolean', 'indicator.connected', false, true, false, 'Solarview connection state', ''],\n            ['info.lastUpdate', 'state', 'lastUpdate', 'string', 'date', (new Date('1900-01-01T00:00:00')).toString(), true, false, 'Last connection date/time', ''],\n        ];*/\n    \n        for (const option of options) {\n            await this.createObject(...option);\n        }\n    }\n\n    async createSolarviewObjects(device: string, additional: boolean = false) {\n        let options: [string, ioBroker.SettableObject][] =[\n            [device + '.current', {type: 'state', common: {name: 'current', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Current PAC', unit: 'W'}, native: {}}],\n            [device + '.daily', {type: 'state', common: {name: 'daily', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Daily yield', unit: 'kWh'}, native: {}}],\n            [device + '.monthly', {type: 'state', common: {name: 'monthly', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Monthly yield', unit: 'kWh'}, native: {}}],\n            [device + '.yearly', {type: 'state', common: {name: 'yearly', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Yearly yield', unit: 'kWh'}, native: {}}],\n            [device + '.total', {type: 'state', common: {name: 'total', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Total yield', unit: 'kWh'}, native: {}}],\n        ];\n        /*let options: [string, string, string, string, string, any, boolean, boolean, string, string][] = [\n            [device + '.current', 'state', 'current', 'number', 'value', 0, true, false, 'Current PAC', 'W'],\n            [device + '.daily', 'state', 'daily', 'number', 'value', 0, true, false, 'Daily yield', 'kWh'],\n            [device + '.monthly', 'state', 'monthly', 'number', 'value', 0, true, false, 'Monthly yield', 'kWh'],\n            [device + '.yearly', 'state', 'yearly', 'number', 'value', 0, true, false, 'Yearly yield', 'kWh'],\n            [device + '.total', 'state', 'total', 'number', 'value', 0, true, false, 'Total yield', 'kWh'],\n        ];*/\n    \n        if (additional) {\n            const additionalOptions: [string, ioBroker.SettableObject][] =[\n                [device + '.udc', {type: 'state', common: {name: 'udc', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Generator voltage', unit: 'V'}, native: {}}],\n                [device + '.idc', {type: 'state', common: {name: 'idc', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Generator current', unit: 'A'}, native: {}}],\n                [device + '.udcb', {type: 'state', common: {name: 'udcb', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Generator voltage', unit: 'V'}, native: {}}],\n                [device + '.idcb', {type: 'state', common: {name: 'idcb', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Generator current', unit: 'A'}, native: {}}],\n                [device + '.udcc', {type: 'state', common: {name: 'udcc', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Generator voltage', unit: 'V'}, native: {}}],\n                [device + '.idcc', {type: 'state', common: {name: 'idcc', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Generator current', unit: 'A'}, native: {}}],\n                [device + '.udcd', {type: 'state', common: {name: 'udcd', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Generator voltage', unit: 'V'}, native: {}}],\n                [device + '.idcd', {type: 'state', common: {name: 'idcd', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Generator current', unit: 'A'}, native: {}}],\n                [device + '.ul1', {type: 'state', common: {name: 'ul1', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Mains voltage', unit: 'V'}, native: {}}],\n                [device + '.il1', {type: 'state', common: {name: 'il1', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Mains current', unit: 'A'}, native: {}}],\n                [device + '.ul2', {type: 'state', common: {name: 'ul2', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Mains voltage', unit: 'V'}, native: {}}],\n                [device + '.il2', {type: 'state', common: {name: 'il2', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Mains current', unit: 'A'}, native: {}}],\n                [device + '.ul3', {type: 'state', common: {name: 'ul3', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Mains voltage', unit: 'V'}, native: {}}],\n                [device + '.il3', {type: 'state', common: {name: 'il3', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Mains current', unit: 'A'}, native: {}}],\n                [device + '.tkk', {type: 'state', common: {name: 'tkk', type: 'number', role: 'value', def: 0, read: true, write: false, desc: 'Temperature', unit: '\u00B0C'}, native: {}}],\n            ];\n            /*const additionalOptions: [string, string, string, string, string, any, boolean, boolean, string, string][] = [\n                [device + '.udc', 'state', 'udc', 'number', 'value', 0, true, false, 'Generator voltage', 'V'],\n                [device + '.idc', 'state', 'idc', 'number', 'value', 0, true, false, 'Generator current', 'A'],\n                [device + '.udcb', 'state', 'udcb', 'number', 'value', 0, true, false, 'Generator voltage', 'V'],\n                [device + '.idcb', 'state', 'idcb', 'number', 'value', 0, true, false, 'Generator current', 'A'],\n                [device + '.udcc', 'state', 'udcc', 'number', 'value', 0, true, false, 'Generator voltage', 'V'],\n                [device + '.idcc', 'state', 'idcc', 'number', 'value', 0, true, false, 'Generator current', 'A'],\n                [device + '.udcd', 'state', 'udcd', 'number', 'value', 0, true, false, 'Generator voltage', 'V'],\n                [device + '.idcd', 'state', 'idcd', 'number', 'value', 0, true, false, 'Generator current', 'A'],\n                [device + '.ul1', 'state', 'ul1', 'number', 'value', 0, true, false, 'Mains voltage', 'V'],\n                [device + '.il1', 'state', 'il1', 'number', 'value', 0, true, false, 'Mains current', 'A'],\n                [device + '.ul2', 'state', 'ul2', 'number', 'value', 0, true, false, 'Mains voltage', 'V'],\n                [device + '.il2', 'state', 'il2', 'number', 'value', 0, true, false, 'Mains current', 'A'],\n                [device + '.ul3', 'state', 'ul3', 'number', 'value', 0, true, false, 'Mains voltage', 'V'],\n                [device + '.il3', 'state', 'il3', 'number', 'value', 0, true, false, 'Mains current', 'A'],\n                [device + '.tkk', 'state', 'tkk', 'number', 'value', 0, true, false, 'Temperature', '\u00B0C'],\n            ];*/\n            options = options.concat(additionalOptions);\n        }\n    \n        for (const option of options) {\n            await this.createObject(...option);\n        }\n    }\n\n    async adjustIntervalToSeconds() {\n        const adapterObj: ioBroker.Object | null | undefined = await this.getForeignObjectAsync(`system.adapter.${this.namespace}`);\n        if (!this.config.interval_seconds) {\n            if (adapterObj) {\n                adapterObj.native.interval_seconds = true;\n                adapterObj.native.intervalVal *= 60;\n                this.log.warn('Interval changed to seconds!');\n                this.log.info('Interval attribute changed! Please check the configuration');\n                this.log.info('Adapter restarts');\n            }\n        }\n    }\n\n    async getData(port: number, ip_address: string): Promise<void> {\n        const { intervalstart, intervalend, d0converter, scm0, scm1, scm2, scm3, scm4, pvi1, pvi2, pvi3, pvi4 } = this.config;\n    \n        const starttime = intervalstart.split(':').slice(0, 2).join(':');\n        let endtime = intervalend.split(':').slice(0, 2).join(':');\n        endtime = endtime === '00:00' ? '23:59' : endtime;\n    \n        const dnow = new Date();\n        const dstart = new Date(`${dnow.getFullYear()}-${dnow.getMonth() + 1}-${dnow.getDate()} ${starttime}`);\n        const dend = new Date(`${dnow.getFullYear()}-${dnow.getMonth() + 1}-${dnow.getDate()} ${endtime}`);\n    \n        let timeoutCnt = 0;\n    \n        const executeCommand = (cmd: string) => {\n            timeoutCnt += 500;\n            tout = setTimeout(() => {\n                conn.connect(port, ip_address, () => {\n                    conn.write(cmd);\n                    conn.end();\n                });\n            }, timeoutCnt);\n        };\n    \n        if (dnow >= dstart && dnow <= dend) {\n            executeCommand('00*'); // pvig\n    \n            if (d0converter) executeCommand('21*');\n            if (pvi1) executeCommand('01*');\n            if (pvi2) executeCommand('02*');\n            if (pvi3) executeCommand('03*');\n            if (pvi4) executeCommand('04*');\n        }\n    \n        if (d0converter) executeCommand('22*');\n        if (scm0) executeCommand('10*');\n        if (scm1) executeCommand('11*');\n        if (scm2) executeCommand('12*');\n        if (scm3) executeCommand('13*');\n        if (scm4) executeCommand('14*');\n    }\n\n    async onReady() {\n        const ip_address: string = this.config.ipaddress;\n        const port: number = this.config.port;\n        let chkCnt = 0;\n        const that = this;\n\n        conn = new net.Socket();\n        conn.setTimeout(2000);\n\n        await this.createGlobalObjects();\n\n        if (this.config.d0converter) await this.createSolarviewObjects('d0', false);\n        if (this.config.scm0) await this.createSolarviewObjects('scm0', false);\n        if (this.config.scm1) await this.createSolarviewObjects('scm1', false);\n        if (this.config.scm2) await this.createSolarviewObjects('scm2', false);\n        if (this.config.scm3) await this.createSolarviewObjects('scm3', false);\n        if (this.config.scm4) await this.createSolarviewObjects('scm4', false);\n        if (this.config.pvi1) await this.createSolarviewObjects('pvi1', true);\n        if (this.config.pvi2) await this.createSolarviewObjects('pvi2', true);\n        if (this.config.pvi3) await this.createSolarviewObjects('pvi3', true);\n        if (this.config.pvi4) await this.createSolarviewObjects('pvi4', true);\n\n        const processData = async (data: Buffer) => {\n            let strdata = data.toString();\n            let id: string;\n            let pv: string;\n            let cs: ChecksumResult;\n            let sdata: string[];\n\n            switch (true) {\n                case strdata.startsWith('/'):\n                    id = strdata.substring(1, 4);\n                    pv = strdata.substring(5, strdata.length - 4);\n                    cs = this.calcChecksum(strdata);\n                    if (cs.result) {\n                        that.setState(id, pv, true);\n                    }\n                    break;\n\n                case strdata.startsWith(':'):\n                    sdata = strdata.substring(1, strdata.length - 2).split(',');\n                    that.setState('total', Number(sdata[3]) * 1000, true);\n                    break;\n\n                default:\n                    that.log.warn(`Data cannot be processed: ${strdata}`);\n                    break;\n            }\n        };\n\n        conn.on('data', async (data) => {\n            chkCnt = 0;\n            clearTimeout(jobSchedule);\n            jobSchedule = setTimeout(() => {\n                this.getData(port, ip_address);\n            }, this.config.intervalVal * 1000);\n            await processData(data);\n        });\n\n        conn.on('close', () => {\n            if (chkCnt > 3) {\n                this.setState('info.connection', false, true);\n                this.log.warn('Solarview Server is not reachable');\n                chkCnt = 0;\n            }\n            chkCnt++;\n            clearTimeout(jobSchedule);\n            jobSchedule = setTimeout(() => {\n                this.getData(port, ip_address);\n            }, 10000);\n        });\n\n        conn.on('error', (err) => {\n            this.log.error(err.message);\n        });\n\n        if (this.config.interval_seconds) {\n            this.config.intervalVal = this.config.intervalVal / 60;\n        } else {\n            await this.adjustIntervalToSeconds.call(this);\n        }\n\n        jobSchedule = setTimeout(() => {\n            this.getData(port, ip_address);\n        }, 1000);\n    }\n\n    async onUnload(callback: () => void) {\n        try {\n            clearTimeout(jobSchedule);\n            clearTimeout(tout);\n            conn.destroy();\n            this.log.info('cleaned everything up...');\n            callback();\n        } catch (e) {\n            callback();\n        }\n    }\n}\n\nif (module.parent) {\n    module.exports = (options: Partial<utils.AdapterOptions> | undefined) => new Solarviewdatareader(options);\n} else {\n    (() => new Solarviewdatareader())();\n}\n"],
  "mappings": "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",
  "names": []
}
